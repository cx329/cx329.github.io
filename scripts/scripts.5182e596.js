"use strict";angular.module("qaApp",["ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/login.html",controller:"LoginCtrl"}).when("/main",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/setting",{templateUrl:"views/setting.html",controller:"SettingCtrl"}).when("/help",{templateUrl:"views/help.html",controller:"HelpCtrl"}).when("/financical",{templateUrl:"views/financical.html",controller:"FinancicalCtrl"}).when("/logout",{templateUrl:"views/logout.html",controller:"LogoutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("qaApp").controller("LoginCtrl",["$scope","$location","accountAPIservice",function(a,b,c){a.coverEffect=!0,a.__cxGlobalItemTitle="快快回答",a.login={};var d=!1;if(d===!0)return console.log(d),b.path("/main");var e=a.login.userEmail,f=a.login.userPassword;a.checkUser=function(){a.isLoding=!0,c.checkAccount(e,f).success(function(c){return console.log("checkUser click"),a.isLoding=!1,0===c?b.path("/main"):void(500===c?a.login.passwordError=!0:console.log("Unknown error"))}).error(function(){a.isLoding=!1,console.log("登录失败")})},a.addUser=function(){console.log("addUser click"),a.isLoding=!0,c.addAccount(e,f).success(function(c){return a.isLoding=!0,0===c?b.path("/main"):void console.log(500===c?"create error":"Unknown error")}).error(function(){a.isLoding=!0,console.log("register error...")})},a.sendEmail=function(){console.log("sending emial ..."),a.sendEmailSuccess=!0,console.log("success")}}]),angular.module("qaApp").controller("MainCtrl",["$scope","robotListService",function(a,b){a.myRobotTitle="我的机器人",a.btns=[{name:"信息"},{name:"管理员"},{name:"代码"}],a.robotList=[],b.getItems().success(function(b){a.robotList=b}),a.showRobotModal=function(b){a.modalIsShowing=!0;var c=b;console.log(c),0===c?(a.tabInfoShowing=!0,console.log(a.tabInfoShowing)):1===c?(a.tabManegerShowing=!0,console.log(a.tabManegerShowing)):2===c&&(a.tabCodeShowing=!0,console.log(a.tabCodeShowing)),a.robotModal=this.$parent.robot}}]),angular.module("qaApp").controller("SettingCtrl",["$scope",function(a){angular.element(".navbar").css({display:"block",opacity:"1"}),a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("qaApp").controller("HelpCtrl",["$scope",function(a){angular.element(".navbar").css({display:"block",opacity:"1"}),a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("qaApp").controller("FinancicalCtrl",["$scope",function(a){angular.element(".navbar").css({display:"block",opacity:"1"}),a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("qaApp").controller("LogoutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("qaApp").directive("navbar",function(){return{templateUrl:"views/template/navbar.html",restrict:"A",link:function(a){a.showMenu=function(){a.menuIsShowing=!a.menuIsShowing}}}}),angular.module("qaApp").directive("robotModal",function(){return{templateUrl:"views/template/robot-modal.html",restrict:"A",link:function(a){a.closeRobotModal=function(){a.modalIsShowing=!1,a.tabInfoShowing=!1,a.tabManegerShowing=!1,a.tabCodeShowing=!1},a.showTabInfo=function(){a.tabManegerShowing=!1,a.tabCodeShowing=!1,a.tabInfoShowing=!0},a.showTabManager=function(){a.tabCodeShowing=!1,a.tabInfoShowing=!1,a.tabManegerShowing=!0},a.showTabCode=function(){a.tabInfoShowing=!1,a.tabManegerShowing=!1,a.tabCodeShowing=!0}}}}),angular.module("qaApp").directive("robotModalTabInformation",function(){return{templateUrl:"views/template/robot-information.html",restrict:"A",replace:!0}}),angular.module("qaApp").directive("robotModalTabManager",function(){return{templateUrl:"views/template/robot-manager.html",restrict:"A",replace:!0}}),angular.module("qaApp").directive("robotModalTabGetCode",function(){return{templateUrl:"views/template/robot-getcode.html",restrict:"A",replace:!0}}),angular.module("qaApp").directive("login",function(){return{templateUrl:"views/template/login.html",restrict:"E",replace:!0,link:function(a){a.state="register",a.switchToLogin=function(){a.state="login",a.hasRepeat===!0?a.showImg=!0:a.hasRepeat===!1&&(a.showImg=!1)},a.switchToRegister=function(){a.state="register",a.hasRepeat===!0?a.showImg=!1:a.hasRepeat===!1&&(a.showImg=!0)},a.forgetCode=function(){a.forgetEmail=void 0,a.sendEmailSuccess=!1,a.forgetCodeClicked=!0,a.modalOpened=!0},a.closeForgetCode=function(){a.forgetCodeClicked=!1,a.modalOpened=!1}}}}),angular.module("qaApp").directive("ensureEmailUnique",["$http",function(a){return{require:"ngModel",link:function(b,c,d){b.$watch(d.ngModel,function(){var c=b.login.userEmail;void 0===c||a({method:"GET",url:"/test.json?"+c}).success(function(a){0===a?(b.hasRepeat=!1,b.showImg="register"===b.state?!0:"login"===b.state?!1:!0):(b.hasRepeat=!0,"register"===b.state?b.showImg=!1:"login"===b.state&&(b.showImg=!0))})})}}}]),angular.module("qaApp").service("robotListService",["$http",function(a){var b={},c="http://202.118.250.16:48006",d=c+"//coming";return b.getItems=function(){return a({method:"JSONP",url:d+"?callback=JSON_CALLBACK"})},b}]),angular.module("qaApp").service("accountAPIservice",["$http",function(a){var b={},c="/test.json";return b.checkAccount=function(b,d){return a({method:"GET",url:c+"?"+b+"&"+d})},b.addAccount=function(b,d){return a({method:"GET",url:c+"?"+b+"&"+d})},b}]);